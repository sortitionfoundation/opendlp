{#
ABOUTME: Card component macro for backoffice design system
ABOUTME: Supports basic, header, and actions variants using semantic tokens
#}

{% macro card(title="", subtitle="", id="", classes="") %}
    {#
  Basic Card component using semantic design tokens.

  Args:
    title: Optional card title
    subtitle: Optional card subtitle
    id: optional id attribute
    classes: additional CSS classes to append

  Usage:
    {% call card(title="Card Title") %}
      Card content here
    {% endcall %}
    #}
    <div
        {% if id %}id="{{ id }}"{% endif %}
        style="background-color: var(--color-surface); border: 1px solid var(--color-border);"
        class="rounded-lg shadow-md overflow-hidden {{ classes }}"
    >
        {% if title %}
            <div style="border-bottom: 1px solid var(--color-border);" class="px-6 py-4">
                <h3 style="color: var(--color-text-primary);" class="text-lg font-semibold">{{ title }}</h3>
                {% if subtitle %}
                    <p style="color: var(--color-text-muted);" class="text-sm mt-1">{{ subtitle }}</p>
                {% endif %}
            </div>
        {% endif %}
        <div class="px-6 py-4">
            {{ caller() }}
        </div>
    </div>
{% endmacro %}


{% macro card_with_actions(title="", subtitle="", id="", classes="") %}
    {#
  Card with actions footer using semantic design tokens.

  Args:
    title: Optional card title
    subtitle: Optional card subtitle
    id: optional id attribute
    classes: additional CSS classes to append

  The caller block should contain two parts separated by {% set actions %}:
    - First part: card body content
    - actions block: buttons/links for the footer

  Usage:
    {% call(actions) card_with_actions(title="Card Title") %}
      Card content here
      {% set actions %}
        {{ button("Action", variant="primary") }}
      {% endset %}
      {{ actions }}
    {% endcall %}
    #}
    <div
        {% if id %}id="{{ id }}"{% endif %}
        style="background-color: var(--color-surface); border: 1px solid var(--color-border);"
        class="rounded-lg shadow-md overflow-hidden {{ classes }}"
    >
        {% if title %}
            <div style="border-bottom: 1px solid var(--color-border);" class="px-6 py-4">
                <h3 style="color: var(--color-text-primary);" class="text-lg font-semibold">{{ title }}</h3>
                {% if subtitle %}
                    <p style="color: var(--color-text-muted);" class="text-sm mt-1">{{ subtitle }}</p>
                {% endif %}
            </div>
        {% endif %}
        <div class="px-6 py-4">
            {{ caller() }}
        </div>
    </div>
{% endmacro %}
