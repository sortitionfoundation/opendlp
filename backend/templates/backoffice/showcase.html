{% extends "backoffice/base.html" %}
{% from "backoffice/components/button.html" import button %}
{% from "backoffice/components/card.html" import card, card_with_actions %}

{% block title %}Component Showcase{% endblock %}

{% block content %}
    <h1 style="color: var(--color-text-primary);" class="text-3xl font-bold mb-2">Component Showcase</h1>
    <p style="color: var(--color-text-muted);" class="mb-8">Backoffice design system using Pines UI + Tailwind CSS</p>


    <!-- Design Tokens Section -->
    <section class="mb-24">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Primitive Tokens</h2>
        <p style="color: var(--color-text-muted);" class="mb-4">Sortition Foundation brand colors from the design system.</p>

        <div class="flex flex-wrap gap-4">
            <!-- Burnt Orange (Primary CTA) -->
            <div id="token-primary" style="background-color: var(--color-burnt-orange); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Burnt Orange</p>
                <p class="text-sm opacity-90">#FF7043</p>
            </div>

            <!-- Dark Grey (Secondary) -->
            <div id="token-secondary" style="background-color: var(--color-dark-grey); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Dark Grey</p>
                <p class="text-sm opacity-90">#424242</p>
            </div>

            <!-- Hot Pink (Accent) -->
            <div id="token-accent" style="background-color: var(--color-hot-pink); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Hot Pink</p>
                <p class="text-sm opacity-90">#E91E63</p>
            </div>

            <!-- Woad Blue (Links/Info) -->
            <div style="background-color: var(--color-woad-blue); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Woad Blue</p>
                <p class="text-sm opacity-90">#3F51B5</p>
            </div>

            <!-- Sap Green (Success) -->
            <div style="background-color: var(--color-sap-green); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Sap Green</p>
                <p class="text-sm opacity-90">#4CAF50</p>
            </div>

            <!-- Scarlet Red (Error) -->
            <div style="background-color: var(--color-scarlet-red); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Scarlet Red</p>
                <p class="text-sm opacity-90">#F44336</p>
            </div>

            <!-- Saffron Yellow (Focus) -->
            <div style="background-color: var(--color-saffron-yellow); color: var(--color-dark-grey);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Saffron Yellow</p>
                <p class="text-sm opacity-90">#FFEB3B</p>
            </div>

            <!-- Buttermilk (Light BG) -->
            <div style="background-color: var(--color-buttermilk); color: var(--color-dark-grey); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-48">
                <p class="font-semibold">Buttermilk</p>
                <p class="text-sm opacity-90">#F5F5DC</p>
            </div>
        </div>
    </section>

    <!-- Semantic Tokens Section -->
    <section class="mb-24">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Semantic Tokens</h2>
        <p style="color: var(--color-text-muted);" class="mb-4">Purpose-based tokens grouped by usage type.</p>

        <!-- Background Colors -->
        <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-3">Background Colors</h3>
        <div class="flex flex-wrap gap-4 mb-8">
            <div style="background-color: var(--color-button-primary-bg); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-button-primary-bg</p>
                <p class="text-xs opacity-75 mt-1">→ burnt-orange</p>
            </div>
            <div style="background-color: var(--color-button-secondary-bg); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-button-secondary-bg</p>
                <p class="text-xs opacity-75 mt-1">→ dark-grey</p>
            </div>
            <div style="background-color: var(--color-button-disabled-bg); color: var(--color-gray-500);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-button-disabled-bg</p>
                <p class="text-xs opacity-75 mt-1">→ gray-200</p>
            </div>
            <div style="background-color: var(--color-bg-secondary); color: var(--color-text-body);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-bg-secondary</p>
                <p class="text-xs opacity-75 mt-1">→ buttermilk</p>
            </div>
            <div style="background-color: var(--color-surface); color: var(--color-text-body); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-surface</p>
                <p class="text-xs opacity-75 mt-1">→ white</p>
            </div>
            <div style="background-color: var(--color-surface-sunken); color: var(--color-text-body); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p class="text-sm font-mono">--color-surface-sunken</p>
                <p class="text-xs opacity-75 mt-1">→ gray-50</p>
            </div>
        </div>

        <!-- Border Colors -->
        <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-3">Border Colors</h3>
        <div class="flex flex-wrap gap-4 mb-8">
            <div style="background-color: var(--color-surface); border: 3px solid var(--color-button-outline-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-body);" class="text-sm font-mono">--color-button-outline-border</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ dark-grey</p>
            </div>
            <div style="background-color: var(--color-surface); border: 3px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-body);" class="text-sm font-mono">--color-border</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ gray-200</p>
            </div>
            <div style="background-color: var(--color-surface); border: 3px solid var(--color-input-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-body);" class="text-sm font-mono">--color-input-border</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ gray-300</p>
            </div>
            <div style="background-color: var(--color-surface); box-shadow: 0 0 0 3px var(--color-focus-ring);" class="p-4 rounded-lg w-56">
                <p style="color: var(--color-text-body);" class="text-sm font-mono">--color-focus-ring</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ saffron-yellow</p>
            </div>
        </div>

        <!-- Text Colors -->
        <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-3">Text Colors</h3>
        <div class="flex flex-wrap gap-4 mb-8">
            <div style="background-color: var(--color-surface); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-primary);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-text-muted);" class="text-sm font-mono">--color-text-primary</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ dark-grey</p>
            </div>
            <div style="background-color: var(--color-surface); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-body);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-text-muted);" class="text-sm font-mono">--color-text-body</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ gray-900</p>
            </div>
            <div style="background-color: var(--color-surface); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-muted);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-text-muted);" class="text-sm font-mono">--color-text-muted</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ gray-500</p>
            </div>
            <div style="background-color: var(--color-surface); border: 1px solid var(--color-border);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-text-link);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-text-muted);" class="text-sm font-mono">--color-text-link</p>
                <p style="color: var(--color-text-muted);" class="text-xs mt-1">→ woad-blue</p>
            </div>
            <div style="background-color: var(--color-button-primary-bg);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-button-primary-text);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-white); opacity: 0.9;" class="text-sm font-mono">--color-button-primary-text</p>
                <p style="color: var(--color-white); opacity: 0.75;" class="text-xs mt-1">→ white</p>
            </div>
            <div style="background-color: var(--color-button-disabled-bg);" class="p-4 rounded-lg shadow-md w-56">
                <p style="color: var(--color-button-disabled-text);" class="text-lg font-semibold mb-2">Aa</p>
                <p style="color: var(--color-gray-500);" class="text-sm font-mono">--color-button-disabled-text</p>
                <p style="color: var(--color-gray-500);" class="text-xs mt-1">→ gray-400</p>
            </div>
        </div>

        <!-- Feedback Colors -->
        <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-3">Feedback Colors</h3>
        <p style="color: var(--color-text-muted);" class="text-sm mb-3">Can be used as background or text color depending on context.</p>
        <div class="flex flex-wrap gap-4">
            <div class="flex flex-col gap-2">
                <div style="background-color: var(--color-feedback-success); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                    <p class="text-sm font-mono">--color-feedback-success</p>
                    <p class="text-xs opacity-75 mt-1">→ sap-green</p>
                </div>
                <div style="background-color: var(--color-feedback-success-light); border: 1px solid var(--color-feedback-success);" class="p-4 rounded-lg w-56">
                    <p style="color: var(--color-feedback-success-text);" class="text-sm font-mono">--color-feedback-success-text</p>
                </div>
            </div>
            <div class="flex flex-col gap-2">
                <div style="background-color: var(--color-feedback-error); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                    <p class="text-sm font-mono">--color-feedback-error</p>
                    <p class="text-xs opacity-75 mt-1">→ scarlet-red</p>
                </div>
                <div style="background-color: var(--color-feedback-error-light); border: 1px solid var(--color-feedback-error);" class="p-4 rounded-lg w-56">
                    <p style="color: var(--color-feedback-error-text);" class="text-sm font-mono">--color-feedback-error-text</p>
                </div>
            </div>
            <div class="flex flex-col gap-2">
                <div style="background-color: var(--color-feedback-warning); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                    <p class="text-sm font-mono">--color-feedback-warning</p>
                    <p class="text-xs opacity-75 mt-1">→ burnt-orange</p>
                </div>
                <div style="background-color: var(--color-feedback-warning-light); border: 1px solid var(--color-feedback-warning);" class="p-4 rounded-lg w-56">
                    <p style="color: var(--color-feedback-warning-text);" class="text-sm font-mono">--color-feedback-warning-text</p>
                </div>
            </div>
            <div class="flex flex-col gap-2">
                <div style="background-color: var(--color-feedback-info); color: var(--color-white);" class="p-4 rounded-lg shadow-md w-56">
                    <p class="text-sm font-mono">--color-feedback-info</p>
                    <p class="text-xs opacity-75 mt-1">→ woad-blue</p>
                </div>
                <div style="background-color: var(--color-feedback-info-light); border: 1px solid var(--color-feedback-info);" class="p-4 rounded-lg w-56">
                    <p style="color: var(--color-feedback-info-text);" class="text-sm font-mono">--color-feedback-info-text</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Spacing Conventions Section -->
    <section class="mb-24">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Spacing Conventions</h2>
        <p style="color: var(--color-text-muted);" class="mb-4">
            Consistent spacing using Tailwind's default scale (base unit: 4px).
            See <a href="https://github.com/sortitionfoundation/opendlp" style="color: var(--color-text-link);">AGENTS.md</a> for the full spacing reference table.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Common Spacing Values -->
            {% call card(classes="") %}
                <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-4">Key Values</h3>
                <ul style="color: var(--color-text-body);" class="space-y-2 text-sm">
                    <li><code class="font-mono bg-gray-100 px-1 rounded">p-6</code> / <code class="font-mono bg-gray-100 px-1 rounded">gap-6</code> - Card padding, section gaps (24px)</li>
                    <li><code class="font-mono bg-gray-100 px-1 rounded">mb-4</code> - Paragraph spacing (16px)</li>
                    <li><code class="font-mono bg-gray-100 px-1 rounded">mb-8</code> - Section spacing (32px)</li>
                    <li><code class="font-mono bg-gray-100 px-1 rounded">gap-2</code> - Inline element gaps (8px)</li>
                </ul>
            {% endcall %}

            <!-- Principle -->
            {% call card(classes="") %}
                <h3 style="color: var(--color-text-primary);" class="text-lg font-medium mb-4">Principle</h3>
                <p style="color: var(--color-text-body);" class="text-sm mb-3">
                    Prefer even multiples for visual rhythm: <code class="font-mono bg-gray-100 px-1 rounded">p-2</code>, <code class="font-mono bg-gray-100 px-1 rounded">p-4</code>, <code class="font-mono bg-gray-100 px-1 rounded">p-6</code>, <code class="font-mono bg-gray-100 px-1 rounded">p-8</code>.
                </p>
                <p style="color: var(--color-text-muted);" class="text-sm">
                    When adapting Pines UI components into Jinja macros, normalize spacing to match these conventions for consistency across the interface.
                </p>
            {% endcall %}
        </div>
    </section>

    <!-- Button Component Section -->
    <section class="mb-24 ">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Button Component</h2>
        <p style="color: var(--color-text-muted);" class="mb-4">Reusable button macro with variant support.</p>

        <div class="flex flex-wrap gap-4 items-center">
            <!-- Primary Button -->
            <div class="flex flex-col items-center gap-2">
                {{ button("Click me", id="btn-default") }}
                <span style="color: var(--color-text-muted);" class="text-xs">Default</span>
            </div>

            <div class="flex flex-col items-center gap-2">
                {{ button("Submit", variant="primary", id="btn-primary") }}
                <span style="color: var(--color-text-muted);" class="text-xs">Primary</span>
            </div>

            <!-- Secondary Button -->
            <div class="flex flex-col items-center gap-2">
                {{ button("Secondary", variant="secondary", id="btn-secondary") }}
                <span style="color: var(--color-text-muted);" class="text-xs">Secondary</span>
            </div>

            <!-- Outline Button -->
            <div class="flex flex-col items-center gap-2">
                {{ button("Cancel", variant="outline", id="btn-outline") }}
                <span style="color: var(--color-text-muted);" class="text-xs">Outline</span>
            </div>

            <!-- Disabled Button -->
            <div class="flex flex-col items-center gap-2">
                {{ button("Disabled", disabled=true, id="btn-disabled") }}
                <span style="color: var(--color-text-muted);" class="text-xs">Disabled</span>
            </div>
        </div>

        <!-- How to Use -->
        <div class="mt-6">
            <h3 style="color: var(--color-text-primary);" class="text-sm font-semibold mb-2">How to Use</h3>
            <pre style="background-color: var(--color-surface-sunken); border: 1px solid var(--color-border); color: var(--color-text-body);" class="p-4 rounded-lg text-sm overflow-x-auto"><code>{% raw %}{% from "backoffice/components/button.html" import button %}

{{ button("Click me") }}
{{ button("Submit", variant="primary", type="submit") }}
{{ button("Secondary", variant="secondary") }}
{{ button("Cancel", variant="outline") }}
{{ button("Disabled", disabled=true) }}{% endraw %}</code></pre>
        </div>
    </section>

    <!-- Card Component Section -->
    <section class="mb-24">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Card Component</h2>
        <p style="color: var(--color-text-muted);" class="mb-4">Reusable card macro for content containers.</p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Basic Card -->
            {% call card(id="card-basic", classes="max-w-sm") %}
                <p style="color: var(--color-text-body);">
                    This is a basic card without a header. It can contain any content.
                </p>
            {% endcall %}

            <!-- Card with Header -->
            {% call card(title="Card with Header", subtitle="Optional subtitle text", id="card-header", classes="max-w-sm") %}
                <p style="color: var(--color-text-body);">
                    This card has a title and subtitle in the header section.
                </p>
            {% endcall %}

            <!-- Card with Actions -->
            <div id="card-actions" style="background-color: var(--color-surface); border: 1px solid var(--color-border);" class="rounded-lg shadow-md overflow-hidden max-w-sm">
                <div style="border-bottom: 1px solid var(--color-border);" class="px-6 py-4">
                    <h3 style="color: var(--color-text-primary);" class="text-lg font-semibold">Card with Actions</h3>
                    <p style="color: var(--color-text-muted);" class="text-sm mt-1">Includes button actions</p>
                </div>
                <div class="px-6 py-4">
                    <p style="color: var(--color-text-body);">
                        This card demonstrates composition with the Button component.
                    </p>
                </div>
                <div style="border-top: 1px solid var(--color-border); background-color: var(--color-surface-sunken);" class="px-6 py-3 flex gap-2 justify-end">
                    {{ button("Cancel", variant="outline") }}
                    {{ button("Save", variant="primary") }}
                </div>
            </div>
        </div>

        <!-- How to Use -->
        <div class="mt-6">
            <h3 style="color: var(--color-text-primary);" class="text-sm font-semibold mb-2">How to Use</h3>
            <pre style="background-color: var(--color-surface-sunken); border: 1px solid var(--color-border); color: var(--color-text-body);" class="p-4 rounded-lg text-sm overflow-x-auto"><code>{% raw %}{% from "backoffice/components/card.html" import card %}
{% from "backoffice/components/button.html" import button %}

{# Basic card #}
{% call card() %}
  Card content here
{% endcall %}

{# Card with header #}
{% call card(title="Title", subtitle="Subtitle") %}
  Card content here
{% endcall %}

{# Card with actions (compose card + buttons manually) #}
&lt;div style="background-color: var(--color-surface); border: 1px solid var(--color-border);"
     class="rounded-lg shadow-md overflow-hidden"&gt;
  &lt;div style="border-bottom: 1px solid var(--color-border);" class="px-6 py-4"&gt;
    &lt;h3 style="color: var(--color-text-primary);" class="text-lg font-semibold"&gt;Title&lt;/h3&gt;
  &lt;/div&gt;
  &lt;div class="px-6 py-4"&gt;Content here&lt;/div&gt;
  &lt;div style="border-top: 1px solid var(--color-border); background-color: var(--color-surface-sunken);"
       class="px-6 py-3 flex gap-2 justify-end"&gt;
    {{ button("Cancel", variant="outline") }}
    {{ button("Save", variant="primary") }}
  &lt;/div&gt;
&lt;/div&gt;{% endraw %}</code></pre>
        </div>
    </section>

    <!-- Alpine.js Demo Section -->
    <section class="mb-24">
        <h2 style="color: var(--color-text-primary);" class="text-xl font-semibold mb-4">Alpine.js Interactivity</h2>

        <div x-data="{ open: false }" class="max-w-md">
            {% call button(variant="primary", id="alpine-toggle", attrs='@click="open = !open"') %}
                <span x-text="open ? 'Hide Message' : 'Show Message'">Show Message</span>
            {% endcall %}

            <div
                id="alpine-message"
                x-show="open"
                x-transition
                style="background-color: var(--color-surface); border: 1px solid var(--color-border);"
                class="mt-4 p-4 rounded-lg"
            >
                <p style="color: var(--color-text-body);">
                    Alpine.js is working! This message toggles on button click.
                </p>
            </div>
        </div>

        <!-- How to Use -->
        <div class="mt-6">
            <h3 style="color: var(--color-text-primary);" class="text-sm font-semibold mb-2">How to Use</h3>
            <pre style="background-color: var(--color-surface-sunken); border: 1px solid var(--color-border); color: var(--color-text-body);" class="p-4 rounded-lg text-sm overflow-x-auto"><code>
{% raw %}{# Alpine.js toggle pattern with Button macro #}
{% from "backoffice/components/button.html" import button %}

&lt;div x-data="{ open: false }"&gt;
  {% call button(variant="primary", id="my-btn", attrs='@click="open = !open"') %}
    &lt;span x-text="open ? 'Hide' : 'Show'"&gt;Show&lt;/span&gt;
  {% endcall %}

  &lt;div x-show="open" x-transition&gt;
    Content to toggle
  &lt;/div&gt;
&lt;/div&gt;{% endraw %}
        </code></pre>
        </div>
    </section>

{% endblock %}
